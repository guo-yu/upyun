{"version":3,"file":"dist/upyun.min.js","sources":["src/upyun.js"],"names":["window","angular","NProgress","JSON","Error","FormData","XMLHttpRequest","NProgressExist","start","done","module","factory","$base64","md5","Upyun","upyun","Base64","base64","this","events","form_api_secret","configs","expiration","Date","getTime","prototype","set","k","v","toplevel","indexOf","on","event","callback","upload","params","self","req","uploadByForm","md5hash","createHash","data","document","forms","namedItem","policy","encode","stringify","apiendpoint","endpoint","bucket","imageHost","host","append","open","addEventListener","err","result","statusCode","target","status","image","parse","responseText","absUrl","url","absUri","pe","lengthComputable","uploading","Math","round","loaded","total","send"],"mappings":"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","sourceRoot":"../src/upyun.js"}