{"version":3,"file":"dist/upyun.min.js","sources":["src/upyun.js"],"names":["window","angular","JSON","Error","FormData","XMLHttpRequest","NProgressExist","NProgress","start","done","module","factory","$base64","md5","Upyun","upyun","Base64","base64","this","events","form_api_secret","configs","expiration","Date","getTime","prototype","set","k","v","toplevel","indexOf","on","event","callback","upload","params","self","req","uploadByForm","md5hash","createHash","data","document","forms","namedItem","policy","encode","stringify","apiendpoint","endpoint","bucket","imageHost","host","append","file","open","addEventListener","err","result","statusCode","target","status","image","parse","responseText","absUrl","url","absUri","pe","lengthComputable","uploading","Math","round","loaded","total","send"],"mappings":"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"}